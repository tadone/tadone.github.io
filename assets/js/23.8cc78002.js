(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{158:function(e,t,a){"use strict";a.r(t);var s=a(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"gce-cluster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gce-cluster","aria-hidden":"true"}},[e._v("#")]),e._v(" GCE Cluster")]),e._v(" "),a("p",[e._v("Built using: console.cloud.google.com\nThe cluster consist of 3 nodes (VMs) that are built using "),a("strong",[e._v("gke-tad1-cluster-pool-micro")]),e._v(" template. Originally the cluster was set up with")]),e._v(" "),a("p",[e._v("Cluster options:")]),e._v(" "),a("ul",[a("li",[e._v("Choose Zonal: us-west1-a")]),e._v(" "),a("li",[e._v("Pick your kubernetes version: 1.10.7-gke.2")]),e._v(" "),a("li",[e._v("Create a 3-node pool using the cheapest instance type - f1-micro (1 vCPU, 0.6 GB memory)")]),e._v(" "),a("li",[e._v("Boot disk size to 10GB, (don't enable preemptible nodes. They're cheaper but IP changes every day)")]),e._v(" "),a("li",[e._v("Enable auto-upgrade and auto-repair.")])]),e._v(" "),a("p",[e._v("Below the node pool there are some additional options.")]),e._v(" "),a("ul",[a("li",[e._v("Disable HTTP load balancing (load balancing is expensive in GCP) and also")]),e._v(" "),a("li",[e._v("Disable all the StackDriver stuff (also can be expensive and has flaky reliability in my experience) as well as - Disable the kubernetes dashboard")])]),e._v(" "),a("h1",{attrs:{id:"traefik-load-balancer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#traefik-load-balancer","aria-hidden":"true"}},[e._v("#")]),e._v(" Traefik Load Balancer")]),e._v(" "),a("p",[e._v("To test out traefik.toml without valid certificate:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('defaultEntryPoints = ["http", "https"]\n\n[entryPoints]\n  [entryPoints.http]\n  address = ":80"\n    [entryPoints.http.forwardedHeaders]\n      trustedIPs = ["0.0.0.0/0"]\n    [entryPoints.http.redirect]\n      entryPoint = "https"\n  [entryPoints.https]\n  address = ":443"\n    [entryPoints.https.tls]\n    [entryPoints.https.forwardedHeaders]\n      trustedIPs = ["0.0.0.0/0"]\n')])])])])}],!1,null,null,null);n.options.__file="own_cluster.md";t.default=n.exports}}]);