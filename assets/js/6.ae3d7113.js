(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{190:function(e,s,t){"use strict";t.r(s);var a=t(0),n=Object(a.a)({},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"aws-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aws-cli","aria-hidden":"true"}},[e._v("#")]),e._v(" AWS CLI")]),e._v(" "),t("p",[e._v("Requirements: Python 2 version 2.6.5+ or Python 3 version 3.3+ "),t("strong",[e._v("Avoid pip")])]),e._v(" "),t("h2",{attrs:{id:"aws-credentials"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aws-credentials","aria-hidden":"true"}},[e._v("#")]),e._v(" AWS Credentials")]),e._v(" "),t("p",[t("code",[e._v("aws configure")])]),e._v(" "),t("h3",{attrs:{id:"named-profiles"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#named-profiles","aria-hidden":"true"}},[e._v("#")]),e._v(" Named Profiles")]),e._v(" "),t("p",[e._v("You can configure additional profiles by using aws configure with the "),t("code",[e._v("--profile")]),e._v(" option, or by adding entries to the config and "),t("strong",[e._v("~/.aws/credentials")]),e._v(" file.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[default]\naws_access_key_id=AKIAIOSFODNN7EXAMPLE\naws_secret_access_key=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\n\n[user1]\naws_access_key_id=AKIAI44QH8DHBEXAMPLE\naws_secret_access_key=je7MtGbClwBF/2Zp9Utk/h3yCo8nvbEXAMPLEKEY\n")])])]),t("p",[e._v("Each profile uses different credentials—perhaps from different IAM users—and can also use different AWS Regions and output formats.\n"),t("strong",[e._v("~/.aws/config")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("[default]\nregion=us-west-2\noutput=json\n\n[profile user1]\nregion=us-east-1\noutput=text\n")])])]),t("div",{staticClass:"warning custom-block"},[t("p",[e._v('The credentials file uses a different naming format than the CLI config file for named profiles. Include the prefix "profile" only when configuring a named profile in the config file. Do not use profile when configuring the credentials file.')])]),e._v(" "),t("h3",{attrs:{id:"using-profiles-with-the-aws-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-profiles-with-the-aws-cli","aria-hidden":"true"}},[e._v("#")]),e._v(" Using Profiles with the AWS CLI")]),e._v(" "),t("p",[e._v("To use a named profile, add the --profile profile-name option to your command. The following example lists all of your Amazon EC2 instances using the user1 profile from the previous example files.\n"),t("code",[e._v("$ aws ec2 describe-instances --profile user2")]),e._v("\nTo use a named profile for multiple commands, you can avoid specifying the profile in every command by setting the AWS_DEFAULT_PROFILE environment variable at the command line.\n"),t("code",[e._v("$ export AWS_DEFAULT_PROFILE=user2")])]),e._v(" "),t("h2",{attrs:{id:"ec2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ec2","aria-hidden":"true"}},[e._v("#")]),e._v(" EC2")]),e._v(" "),t("p",[t("strong",[e._v("create-key-pair")]),e._v(" "),t("code",[e._v("aws ec2 create-key-pair --key-name tadone-ec2 --query 'KeyMaterial' --output text > tadone-ec2.pem")])]),e._v(" "),t("p",[t("strong",[e._v("describe-instances")])]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("aws ec2 describe-instances --query "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Reservations[*].Instances[*].[Placement.AvailabilityZone, State.Name, InstanceId]'")]),e._v(" --output text``\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Modify instances based on query")]),e._v("\n\naws ec2 describe-instances --query "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Reservations[*].Instances[*].[State.Name, InstanceId]'")]),e._v(" --output text "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Enter")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" stopped "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("awk")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$2")]),e._v("}'")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("while")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("read")]),e._v(" line"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("do")]),e._v(" aws ec2 modify-instance-attribute --instance-id "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$line")]),e._v(" --instance-type "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('\'{"Value": "m1.medium"}\'')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("done")]),e._v("\n")])])])])},[],!1,null,null,null);s.default=n.exports}}]);